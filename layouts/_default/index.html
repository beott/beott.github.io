{{ define "main" }}

<div class="hero-image" style="background-image: url('/images/main-banner.webp');">
  <div class="hero-overlay"></div>
  <!-- <div>BEOTT</div> -->
</div>

<div class="post-by-group">

{{/* https://discourse.gohugo.io/t/custom-sorting-pagegroups/38469/2 */}}
{{/*{{ range site.Pages.GroupByParam "group" "desc" }}*/}}
{{/*TODO: 파라미터로 만들기*/}}
{{ $groups := slice "비옽 2호: MAPPING" "비옽 2호: 마인드헌터" "비옽 1호: 킹덤" "비옽 1호: 모니터 앞 파수꾼들" }}
{{ range $group := $groups }}

  {{ with where site.RegularPages "Params.group" $group }}
  {{/*{{ if eq .Key "featured" }}*/}}

  <section class="swiper main-swiper">
    {{/*<h2 class="row-header-title">{{ .Key | title }}</h2>*/}}
    <h2 class="row-header-title">{{ $group }}</h2>
    <div class="swiper-wrapper">
    {{/*{{ range sort .Pages "Date" "asc" }}*/}}
    {{ range sort . "Date" "asc" }}
        {{ if ne ( .Params.hideme ) true }}
          <div class="swiper-slide">
            <a href="{{.RelPermalink}}" >
              {{ $thumbnail := .Params.thumbnail }}
              {{ if $thumbnail }}
                {{ $image := .Resources.GetMatch (.Params.thumbnail) }}
                  {{ if $image }}
                  {{ $thumbnail := $image.Resize "690x360" }}
                  <div class="post-item-image" style="background-image: url('{{ $thumbnail.RelPermalink }}')" loading="lazy">
                  {{ else }}
                  <div class="post-item-image" style="background-image: url('{{ $thumbnail | absURL}}')" loading="lazy">
                  {{ end }}
                    <div class="overlay-title">
                      {{.Title}}
                    </div>
                  </div>
              {{ end }}
            </a>
          </div>
        {{ end }}
      {{ end }}
    </div>
    <!-- <div class="swiper-pagination"></div> -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </section>
  {{ end }}
{{ end }}

</div>

{{ end }}
